<%= turbo_stream.append "posts-container" do %>
  <% posts.each_slice(2) do |first_p, second_p| %>
    <%= render "shared/index_items", :first_p => first_p, :second_p => second_p %>
  <% end %>
<% end %>

<%= turbo_stream.replace "loading-indicator" do %>
  <div id="loading-indicator" class="<%= posts.empty? ? 'text-center py-8' : 'hidden text-center py-8' %>">
    <% if posts.empty? %>
      <p class="text-gray-600">No more posts to load</p>
    <% else %>
      <div class="inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"></div>
      <p class="mt-2 text-gray-600">Loading more posts...</p>
    <% end %>
  </div>
<% end %>